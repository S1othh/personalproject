<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>p5.js Sketch</title>
  <link rel="stylesheet" href="waytohome.css" />
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
</head>
<body>

    <header class="page-header">
    <div class="header-left">
        
        <a href="waytohome.html">
        <img src="images/back.png" alt="返回" class="btn-icon back-btn" />
        </a>
    </div>
    <div class="header-right">
        <a href="face.html">
        <img src="images/next.png" alt="下一页" class="btn-icon next-btn" />
        </a>
    </div>
    </header>



 
  <div id="sketch-container"></div>

  <!-- p5js -->
  <script>
    const columns = 5;
    const rows = 5;
    let cellWidth;
    let cellHeight;

    function setup() {
   
      createCanvas(windowWidth, windowHeight);
      cellWidth = width / columns;
      cellHeight = height / rows;

      noFill();
      background(0);       
      stroke(255);         

      
      for (let c = 0; c < columns; c++) {
        for (let r = 0; r < rows; r++) {
          const cellX = c * cellWidth;
          const cellY = r * cellHeight;
          drawCell(cellX, cellY);
        }
      }
    }

    function draw() {
     
      const c = int(random(columns));
      const r = int(random(rows));
      const cellX = c * cellWidth;
      const cellY = r * cellHeight;
      drawCell(cellX, cellY);
    }

    function drawCell(x, y) {
      
      noStroke();
      fill(0);
      rect(x, y, cellWidth, cellHeight);

      
      noFill();
      const squareCount = 10;
      const randomOffset = 5;

      for (let i = 1; i <= squareCount; i++) {
        const layerOffset = 5 * i;

        const xOne = x + layerOffset + random(-randomOffset, randomOffset);
        const yOne = y + layerOffset + random(-randomOffset, randomOffset);

        const xTwo =
          x + cellWidth - layerOffset + random(-randomOffset, randomOffset);
        const yTwo = y + layerOffset + random(-randomOffset, randomOffset);

        const xThree =
          x + cellWidth - layerOffset + random(-randomOffset, randomOffset);
        const yThree =
          y + cellHeight - layerOffset + random(-randomOffset, randomOffset);

        const xFour = x + layerOffset + random(-randomOffset, randomOffset);
        const yFour =
          y + cellHeight - layerOffset + random(-randomOffset, randomOffset);

        
        let col = random() < 0.5 ? 0 : 255;
        stroke(col);
        quad(xOne, yOne, xTwo, yTwo, xThree, yThree, xFour, yFour);
      }
    }

    function windowResized() {
      resizeCanvas(windowWidth, windowHeight);
      cellWidth = width / columns;
      cellHeight = height / rows;
      background(0);
    }
  </script>
</body>
</html>
